<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>CSS.Features</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link href="index.css" media="screen" rel="stylesheet" type="text/css">
    <!--<script type="text/javascript" src="../javascript/firebug-lite.js"></script>-->
    <script type="text/javascript" src="../javascript/cssfeatures.js"></script>
    <script type="text/javascript">
    window.onload = function(){
      CSS.init()
      
      var console = document.getElementById('console')
      console.innerHTML = '&lt;body class="' + document.body.className + '"&gt;'
      
      var features = document.getElementById('features')
      for (var feat in CSS.Features){
        var li = document.createElement('li')
        li.innerHTML = feat
        li.className = CSS.Features[feat] ? 'works' : 'broken'
        features.appendChild(li)
      }
    }
    </script>
    
    <style type="text/css">
    
    #myDiv{
      padding: 0.5em;
      width: 5em;
      height: 2em;
      background-color: #ff0000;
      
      -webkit-box-shadow: 1px 2px 2px #222;
      -moz-box-shadow: 1px 2px 2px #222;
      box-shadow: 1px 2px 2px #222;
    }

    .NoBoxShadow #myDiv{
      border: 1px outset #444;
    }
    
    
    #redTint{
      padding: 0.5em;
      width: 10em;
      height: 4em;
      
      background-color: rgba(255, 0, 0, 0.2);
    }
    .NoRGBAColors #redTint{
      background-color: #532820;
    }
    </style>
  </head>
  <body>
    <div id="main">
      <h1 id="h1">CSS.Features</h1>
      <div class="box">
      <h2>What is it?</h2>
      <p>You say Progressive Enhancement, I say Graceful Degradation. No matter which side of 
        the debate you are on, writing CSS which takes advantage of the wonderful new 
        CSS features but still work well with many different browsers can be a pain. 
        CSS.Features is a small Javascript library that makes this easy.
      </p>
      </div>
      <h2>Usage</h2>
      <p>To use, you first include the javascript 
        file inside the &lt;head&gt; tag, like so: </p>
      <p class="code">
        &lt;script type="text/javascript" src="cssfeatures.js"&gt;&lt;/script&gt;
      </p>
      <p>Then, you need to call the CSS.init() function when the DOM is ready. For example:</p>
      <p class="code">
        window.onload = CSS.init;
      </p>
      <p>Or, with jQuery:</p>
      <p class="code">
        $(CSS.init);
      </p>
      <p>Once CSS.init() has been called, the &lt;body&gt; tag will have a number of 
        CSS classes added to it - one for each Feature. For example, if said feature were called <span class="icode">NiftyFeature</span>,
        then the <span class="icode">HasNiftyFeature</span> class would be added onto &lt;body&gt; if it's supported by your
        browser. If it's not supported by your browser, the class <span class="icode">NoNiftyFeature</span> would be added
        instead. A list of features
        that CSS.Features checks for is listed below.
      </p>
      <h2 id="h2">Feature Overview for Your Browser</h2>
      <ul id="features"></ul>
      <p>The features in green are the ones your browser supports. The ones in red are the ones
        it doesn't support.</p>
      <h2>CSS Classes added to &lt;body&gt;</h2>
      <p id="console" class="code"></p>
      <h2>Example: BoxShadow</h2>
      <p>To add a drop shadow to a &lt;div&gt;, you would use the 
        <span class="icode">box-shadow</span>
        property, like so:
      </p>
      <pre class="code">
#myDiv{
  -webkit-box-shadow: 1px 2px 2px #222;
  -moz-box-shadow: 1px 2px 2px #222;
  box-shadow: 1px 2px 2px #222;
}</pre>
      <p>However, the shadow will not show up on browsers that do not support 
        <span class="icode">box-shadow</span>. We could draw a border for those
        browsers instead. With CSS.Features, you can write CSS that target these
        browsers specifically:
      </p>
      <pre class="code">
.NoBoxShadow #myDiv{
  border: 1px outset #444;
}</pre>
      <p>Here is <span class="icode">myDiv</span>:</p>
      <div id="myDiv">
        myDiv
      </div>
      <p>That's it! There's no more conjuring up a multitude of convoluted hacks and testing
        over and over again on all the browsers you can get your hands on to make sure all of
        your hacks work but don't step on each other.
      </p>
      <h2>Example: RGBAColors</h2>
      <p>All major browsers except IE now support RGBA colors. You can use RGBA colors to
        create semi-transparent backgrounds, like so:    
      </p>
      <p>
      <pre class="code">
#redTint{
  background-color: rgba(253, 255, 2, 0.2);
}</pre></p>
      <p>This should give <span class="icode">redTint</span> a red tinted background.
      </p>
      <p>But browsers that do not support rgba colors ignore this rule,
        and so will not have a different background color. But for this example, let's work
        around the problem by giving them the color it would have been. To do this I
        just screenshot the red-tinted portion of the page as rendered in Safari and
        used the eyedropper tool to get the color. So I set that color for these browsers:</p>
      <pre class="code">
.NoRGBAColors #redTint{
  background-color: #532820;
}</pre>
      <p>Here is our <span class="icode">redTint</span>:</p>
      <div id="redTint">
        redTint
      </div>
      <p>Obviously this isn't as nice. If I change the background color, then the color resulting
        from the tinting will change also. Not to mention it won't show any content behind the
        &lt;div&gt;. An alternative is to use a semi-transparent png.
        But I'll leave that as an exercise for you.</p>
    </div>
  </body>
</html>